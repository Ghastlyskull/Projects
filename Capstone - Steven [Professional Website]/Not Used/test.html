<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ... Your existing CSS styles ... */

/* Style for the accordion header */
.accordion-header {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
  position: relative; /* Add relative positioning */
}

/* Style for the animated underline */
.underline {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background-color: #444;
  transition: width 0.3s;
}

/* Animate the underline on active state */
.accordion-header.active .underline {
  width: 100%;
}

/* ... Your existing styles ... */
</style>
</head>
<body>

<h2>Accordion</h2>

<!-- Section 1 -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  Section 1
  <span class="underline"></span>
</div>
<div class="panel">
  <p>Lorem ipsum dolor sit amet...</p>
</div>

<!-- Section 2 -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  Section 2
  <span class="underline"></span>
</div>
<div class="panel">
  <p>Lorem ipsum dolor sit amet...</p>
</div>

<!-- Section 3 -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  Section 3
  <span class="underline"></span>
</div>
<div class="panel">
  <p>Lorem ipsum dolor sit amet...</p>
</div>

<script>
function toggleAccordion(header) {
  header.classList.toggle("active");
  var panel = header.nextElementSibling;
  if (panel.style.display === "block") {
    panel.style.display = "none";
  } else {
    panel.style.display = "block";
  }
}
</script>

</body>
</html>